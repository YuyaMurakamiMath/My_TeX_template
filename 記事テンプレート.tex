\documentclass[11pt,a4paper,oneside,lualatex]{ltjsarticle} % LuaLaTeXの場合
%\documentclass[11pt,a4paper,oneside,titlepage,lualatex]{ltjsreport} % 表紙付き, 章から始まる形式

%SumatraPDFの逆順検索でエラーが出た時は以下のコマンドラインをSumatraPDFの設定→オプションで入力する
%"C:\Program Files (x86)\TeXstudio\texstudio.exe" "%f" -line %l

\usepackage{luatexja} % ltjclasses, ltjsclasses を使うときはこの行不要
\usepackage[marginparwidth=0pt,margin=25truemm]{geometry} % 余白の設定
% スマホやタブレットでも読みやすいB5サイズの文書を書くときは, 1行目の\documentclassのオプションで「a4paper」を「b5paper」にして, 余白設定はmargin=10truemmにすると自分好み

% --------------------------------------------------------------------------
%		パッケージとコマンド
% --------------------------------------------------------------------------

\usepackage{mypackage} % よく使うパッケージ. 「C:\w32tex\share\texmf-local\tex\(好きなファイル名)」に置いたmypackage.styを読み込む
\usepackage{mycommand} % 自分で定義したコマンド. 「C:\w32tex\share\texmf-local\tex\(好きなファイル名)」に置いたmycommand.styを読み込む

% --------------------------------------------------------------------------
%		定理環境
% --------------------------------------------------------------------------

% 定理番号の設定
\newtheorem{theoremcounter}{Theorem Counter}[section] % 定理番号のオプションを選択. [section]を[chapter]にすれば章番号から始まり「定理 1.1.1」のようになる.
\newtheorem{exercisecounter}{Exercise Counter}[] % 演習問題番号のオプションを選択. []を[section], [chapter]にすればそれぞれ節, 章番号から始まり「演習問題 1.1」「演習問題 1.1.1」のようになる. [theoremcounter]にすれば定理番号と共通の番号.

% 自作スタイルファイル読み込み
\usepackage{mytheorem} % 通常の定理環境. 「C:\w32tex\share\texmf-local\tex\(好きなファイル名)」に置いたmytheorem.styを読み込む

%\usepackage{myprogram} % ハイライト付きソースコード. 「C:\w32tex\share\texmf-local\tex\(好きなファイル名)」に置いたmyprogram.styを読み込む

% --------------------------------------------------------------------------
%		ハイパーリンク
% --------------------------------------------------------------------------

%目次にもハイパーリンクが付く. プリアンブルのできるだけ後ろに書く. 
\usepackage[luatex, pdfencoding=auto]{hyperref}
\hypersetup{colorlinks=false} % hyperrefオプションリスト
	
% --------------------------------------------------------------------------
\begin{document}
% --------------------------------------------------------------------------

\title{記事テンプレート}
\author{村上友哉}
\date{\today}

\maketitle

%シンプルな目次
\tableofcontents

% --------------------------------------------------------------------------

\section{独自定義のコマンド} \label{sec:command}

% --------------------------------------------------------------------------

$ \N, \frakp, \calA, \Hom(A, B), \abs{x} $などのコマンドを楽に入力できる.
定義したコマンド一覧は\mbox{mycommand.sty}で見られる.

% --------------------------------------------------------------------------

\section{独自定義の環境} \label{sec:environment}

% --------------------------------------------------------------------------

% --------------------------------------------------------------------------

\subsection{定理環境} \label{subsec:thm}

% --------------------------------------------------------------------------

通常の定理環境はthm環境を使って
\begin{thm}[見出し] \label{thm:label_name}
	定理の内容
\end{thm}
として「定理 \ref{thm:label_name}」で引用する.
番号にはハイパーリンクが付く.
定理番号の形式を変更したいときはプリアンプルから設定する.

\begin{exc}
	演習問題だけは番号付けがデフォルトで定理番号とは別の通し番号になっている.
	変更したいときはプリアンプルから設定する.
\end{exc}

% --------------------------------------------------------------------------
%
%\subsection{プログラムのソースコードを表示} \label{subsec:program}
%
% --------------------------------------------------------------------------
%
%\begin{Python}
%Copy and paste source code of Python or Sage.
%\end{Python}
%\begin{result}
%Copy and paste result.
%\end{result}
%のように使う.

% --------------------------------------------------------------------------

\section{図} \label{sec:diag}

% --------------------------------------------------------------------------

可換図式はTikZ-cdを使って
\[
\begin{tikzcd}
	A \ar[r, "f"] \arrow[d, "g"'] & B \ar[d] \\
	C \ar[r] & D
\end{tikzcd}
\begin{tikzcd}
	& x \arrow[ld] \arrow[d, dotted] \arrow[rd] & \\
	a & a\times b \arrow[l] \arrow[r] & b
\end{tikzcd}
\begin{tikzcd}
	x \arrow[ddr, bend right] \arrow[rrd, bend left] \arrow[rd, dotted] & & \\
	& a \arrow[r] \arrow[d] & b \arrow[d] \\
	& c \arrow[r] & d
\end{tikzcd}
\]
のように書く（\href{https://blog.miz-ar.info/2017/06/commutative-diagrams-in-latex/}{参考にしたURL}）.

%図を挿入するときは
%\begin{figure}[hbtp]
%	\centering
%	\includegraphics[clip,width = 10.0cm]{図のファイル名}
%	\caption{注釈}
%	\label{fig:label_name}
%\end{figure}
%
%左右に二つの図を挿入するときは
%\begin{figure}[hbtp]
%	\centering
%	\begin{subfigure}{0.4\columnwidth}
%		\centering
%		\includegraphics[clip,width = \columnwidth]{図1のファイル名}
%		\caption{注釈}
%		\label{fig:label_name1}
%	\end{subfigure}
%	\begin{subfigure}{0.4\columnwidth}
%		\centering
%		\includegraphics[clip,width = \columnwidth]{図2のファイル名}
%		\caption{注釈}
%		\label{fig:label_name2}
%	\end{subfigure}	
%\end{figure}

% --------------------------------------------------------------------------

\section{文献引用} \label{sec:bib}

% --------------------------------------------------------------------------

文献の内容をbibファイルにbibtex形式でMathSciNetなどからコピペした上で\cite[定理 1.1]{AM}などとして文献を引用する.
この際, citeコマンドの前に空白を空ける場合は半角スペースではなくチルダを使うことで行頭への出力を禁止する（2021/05/17のバージョンではmypackage.sty内でciteパッケージを読み込むことでチルダを使わずとも行頭への出力を禁止していたが, 使っているうちにこのパッケージは不具合が多いことに気付いたので使用を諦めた）.

% --------------------------------------------------------------------------

\section*{謝辞}

% --------------------------------------------------------------------------

mycommand.styで定義しているコマンドの一部は松坂俊輝さんに教えて頂いたものを使っています.
また, このテンプレートはインターネット上に公開されている膨大な知見をもとに作成されています.
ここに感謝いたします.

% --------------------------------------------------------------------------

%bibtexで文献引用
\bibliographystyle{alpha}
\bibliography{myrefs} % myrefs.bibに書いた文献データを引用

% --------------------------------------------------------------------------
\end{document}
% --------------------------------------------------------------------------